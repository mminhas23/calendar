<h1>Editing Student</h1>

<%= form_for(@student) do |f| %>
    <% if @student.errors.any? %>
        <div id="error_explanation">
            <h2><%= pluralize(@student.errors.count, "error") %> prohibited this time_table from being saved:</h2>

            <ul>
                <% @student.errors.full_messages.each do |msg| %>
                    <li><%= msg %></li>
                <% end %>
            </ul>
        </div>
    <% end %>

    <div class="field">
        <%= f.label :first_name %><br/>
        <%= f.text_field :first_name %><br/>
    </div>
    <div class="field">
        <%= f.label :last_name %><br/>
        <%= f.text_field :last_name %><br/>
    </div>
    <div class="field">
        <%= f.label :dob %><br/>
        <%= f.text_field :dob %><br/>
    </div>
    <div class="field">
        <%= f.label :address %><br/>
        <%= f.text_area :address, :rows=>3 %><br/>
    </div>
    <div class="field">
        <%= f.label :email %><br/>
        <%= f.text_field :email %><br/>
    </div>
    <br/>

    <div id="details-container">
        <div id="course-categories">
            <%=f.label :categories %><br/>
            <% Category.all.each do |category| %>
                <% if @categories!=nil %>
                    <%= check_box_tag "categories[]",category.id, @categories.include?(category)%>
                 <% else %>
                    <%= check_box_tag "categories[]",category.id%>
                 <% end %>
                <%= category.description %><br/>
            <% end %>
        </div>
        <div id="courses-available">
            <%=f.label :courses %><br/>
            <% @coursesAvailable.each do |course| %>
                <%= check_box_tag "student[course_ids][]",course.id,  @student.courses.include?(course) %>
                <%= course.course_code %><br/>
            <% end %>
        </div>
        <div id="batches-available">
           <%=f.label :batches %><br/>
            <% @batchesAvailable.each do |batch| %>
                <%= check_box_tag "student[batch_ids][]",batch.id,  @student.batches.include?(batch) %>
                <%= batch.code %>(Seats Available: <%=batch.seats_available%>)<br/>
            <% end %>
        </div>
    </div>
    <br/>
    <div class="actions">
        <%= f.submit %>
    </div>
<% end %>


<%= link_to 'Back', students_path %>